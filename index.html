<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Maintenance Work Log</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 10px; text-align: left; }
        th { background-color: #f2f2f2; }
        button { margin: 5px; padding: 5px 10px; }
    </style>
</head>
<body>

    <h2>Daily Maintenance Work Log</h2>

    <table id="logTable">
        <tr>
            <th>Date</th>
            <th>Equipment</th>
            <th>Issue</th>
            <th>Action Taken</th>
            <th>Remarks</th>
            <th>Action</th>
        </tr>
        <!-- Existing log will appear here -->
    </table>

    <h3>Add New Log</h3>
    <input type="date" id="date">
    <input type="text" id="equipment" placeholder="Equipment">
    <input type="text" id="issue" placeholder="Issue">
    <input type="text" id="action" placeholder="Action Taken">
    <input type="text" id="remarks" placeholder="Remarks">
    <button onclick="addLog()">Add Log</button>

    <script>
        // Define the creator username and password (can be modified or fetched dynamically if needed)
        const creatorUsername = "Md Israfil Ansari"; // Change as needed
        const creatorPassword = "yourPassword123"; // Change as needed

        // Function to add new log to the table
        function addLog() {
            var date = document.getElementById("date").value;
            var equipment = document.getElementById("equipment").value;
            var issue = document.getElementById("issue").value;
            var action = document.getElementById("action").value;
            var remarks = document.getElementById("remarks").value;

            if(date && equipment && issue && action && remarks) {
                var table = document.getElementById("logTable");
                var newRow = table.insertRow();
                newRow.innerHTML = `
                    <td>${date}</td>
                    <td>${equipment}</td>
                    <td>${issue}</td>
                    <td>${action}</td>
                    <td>${remarks}</td>
                    <td><button onclick="deleteLog(this)">Delete</button></td>
                `;
                
                // Clear the input fields
                document.getElementById("date").value = '';
                document.getElementById("equipment").value = '';
                document.getElementById("issue").value = '';
                document.getElementById("action").value = '';
                document.getElementById("remarks").value = '';
            } else {
                alert("Please fill all fields.");
            }
        }

        // Function to delete log from the table
        function deleteLog(button) {
            // Prompt for username and password verification
            var currentUser = prompt("Enter your username to delete this log:");
            if (currentUser === creatorUsername) {
                var currentPassword = prompt("Enter your password to confirm deletion:");
                if (currentPassword === creatorPassword) {
                    var row = button.parentNode.parentNode;
                    row.parentNode.removeChild(row);
                    alert("Log deleted successfully.");
                } else {
                    alert("Incorrect password. Deletion failed.");
                }
            } else {
                alert("You are not authorized to delete this log.");
            }
        }
    </script>

</body>
</html>
